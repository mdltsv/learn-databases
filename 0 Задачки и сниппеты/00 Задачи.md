#### 1) Получите список сотрудников с зарплатой выше средней.
```SELECT * FROM my_employees WHERE SALARY>(SELECT AVG(SALARY) FROM my_employees);```
#### 2) Получите список сотрудников с зарплатой выше средней через курсор или функцию.
#### 3) Выборка значений столбца из таблицы, не входящей в значения столбца из другой таблицы, четырьмя разными способами?

----------------------------------------------------------------------------------------------------
#### Запрос для отображения списка таблиц, принадлежащих пользователю.
#### 

#### Задачи на эту тему:
##### а) Выведите на экран первые 4 строчки из таблицы CITY, отсортированные по количеству населения.
##### б) Как, используя CTE, найти пятый по величине оклад в таблице?
##### в) Write a SQL query to get the third-highest salary of an employee from employee_table?

#### 5) Даны таблицы workers и departments. Найдите все департаменты без единого сотрудника.
```
SELECT department_name FROM workers w
RIGHT JOIN departments d ON (w.department_id = d.department_id)
WHERE first_name IS NULL
```
#### 6) Замените в таблице зарплату работника на 1000, если она равна 900, на 1500 в остальных случаях.
```
UPDATE table SET salary =
CASE
WHEN salary = 900 THEN 1000
ELSE 1500
END;
#### 7) При выборке из таблицы пользователей создайте поле, которое будет включать в себя и имена, и зарплату.
```SELECT CONCAT(name, salary) AS new_field FROM users;*```

### 0.3. Вывести значение курса валюты на заданную дату.
    Вопрос не столь прост, как может показаться.

### Подзапросы
#### 3.2. Выведите первую букву города из CITY, а также имена людей, начинающихся с этой буквы, если эти люди проживают в данном городе.
    SELECT SUBSTR(d.department_name, 1, 1), e.first_name
    FROM my_emp e JOIN my_dep d ON e.department_id = d.department_id
    WHERE SUBSTR(d.department_name, 1, 1) = SUBSTR(e.first_name, 1, 1) AND e.department_id = d.department_id;
#### 3.4. Вывести на экран наименование города, если в таблице нет города, который начинается на такую же букву.
#### 3.3. Выбрать из MAN фамилию и город проживания человека, сколько человек проживает в городе. Использовать подзапрос для новой колонки.
#### 3.6. Выбрать код, название города и популяцию, код города и популяцию, где код города больше текущего кода города на 2.
    Коррелированный
	
### JOIN
#### 3.7. Вывести данные о людях, которые живут в городах с населением больше 1 млн, если людей с таким же именем нет в таблице MAN.
#### DONE 3.9. Вывести на экран марку авто и количество AUTO не этой марки.
    SELECT e1.job_id, (SELECT COUNT(*) FROM emp e2 WHERE e2.job_id <> e1.job_id) FROM emp e1 GROUP BY job_id;
#### 3.10. Вывести на экран номер, марку автомобиля и номер автомобиля, выпущенного на 2 года позже данной даты.
    SELECT e1.FIRST_NAME, e1.LAST_NAME, e1.HIRE_DATE, e2.FIRST_NAME, e2.LAST_NAME, e2.HIRE_DATE
    FROM emp e1, emp e2 WHERE e1.HIRE_DATE=e2.HIRE_DATE+2;
#### 3.11. Найдите количество авто каждого цвета и в отдельной колонке посчитайте, сколько авто такого цвета выпущено после 2010 года.
#### 3.12. Выберите из таблицы workers записи с максимальной зарплатой (го без подзапроса?).
#### 3.13. Вывести марку авто, а также сколько авто такой марки в таблице, вывести записи, где количество авто такой марки больше 2; записи не должны дублироваться.
#### 3.14а. Найти количество авто каждой марки, которые купили люди, проживающие в городах с населением более млн человек с помощью IN; EXISTS.
#### 3.14б. Вывести марку и цвет автомобиля, имя и фамилию покупателя для всех покупателей, которые живут в городе с населением больше 1 миллиона человек.
#### 3.15. Выберите только те названия городов из таблицы CITY, где в таблице MAN не более одного человека, используйте IN; EXISTS.
#### 3.16. Найдите количество автомобилей каждой марки, которые купили люди старше 29 лет, используйте IN; EXISTS.
#### 3.17. При выборке из workers создайте новое поле avg, в котором будет лежать деленная на 2 разница между макс зп и мин зп для возраста 25 лет.
#### 3.18. Вывести все города, где количество проживающих людей больше, чем количество людей в городах с CITYCODE 5, 6, 7.
#### 3.19. Вывести на экран с помощью SELECT всех людей из таблицы MAN, чей возраст меньше каждого человека, у которого автомобиль BMW.
#### 3.20. Выбрать из таблицы CITY названия города, а также названия города, где код города = код текущего города +2.
#### 3.21. Выбрать из таблицы MAN имя, фамилию человека, а также имя и фамилию человека, который старше данного человека на три года.
#### 3.22. Найти самый большой возраст по группам зп (для каждой зп свой максимальный возраст).
#### 3.23. Выберите из workers уникальные возраста, чтобы для каждого возраста было поле res, в котором через дефис id записи с таким возрастом.
#### 3.24. Получить список departments для страны, country_id которой задаётся параметром.
#### 3.25. Выбрать сотрудников, стаж которых не превышает n лет (n спросить у пользователя).
#### DONE 3.26. Сформировать список сотрудников по филиалам, городам, странам, регионам.
    SELECT e.first_name ||' '|| e.last_name "Name", l.city, c.country_name, r.region_name
    FROM      employees e
    LEFT JOIN departments d ON e.DEPARTMENT_ID = d.DEPARTMENT_ID
    JOIN      locations l   ON d.location_id = l.location_id
    JOIN      countries c   ON l.country_id = c.country_id
    JOIN      regions r     ON c.region_id = r.region_id
    ORDER BY l.CITY, c.COUNTRY_NAME, r.REGION_NAME;
    * Полный запрос потерял NULL (e.DEPARTMENT_ID) при LEFT JOIN...
    * Но если только LEFT JOIN (оставить первые три строчки), то не теряет.
#### 3.27. Вывести на экран, сколько машин каждого цвета для машин марок BMW и LADA.
#### 3.28. Выведите первую букву названия города из CITY, а также имена людей, начинающихся с этой буквы, если эти люди проживают в данном городе.
#### 3.29. Выведите название города из CITY, а также количество людей, которые проживают в этом городе, из таблицы MAN, которым больше 28 лет.
#### 3.30. Найдите с помощью запроса количество букв «а» в имени каждого человека из MAN, выведите FIRSTNAME, LASTNAME и результат вычислений.
	```
	SELECT  first_author_firstname
		  , first_author_lastname
		  , REGEXP_COUNT(LOWER(first_author_lastname), 'а')
	FROM ref_books;
	```
#### 3.30. Найдите количество автомобилей каждого цвета и в отдельной колонке посчитайте, сколько авто такого цвета AUTO (COLOR) выпущено после &1 года. Запрос: цвет, количество, количество после &1 года.
#### 3.31. Выведите все автомобили, которые купили люди, проживающие в городе, где в названии есть буква «и».
#### 3.32. Выведите с помощью запроса, сколько строк останется, если убрать из таблицы людей с одинаковыми именами.

### 4. JOIN
#### 4.1. Даны таблицы: category (id, name) и page (id, name, category_id). Достаньте одним запросом все страницы вместе с их категориями.
    SELECT * FROM page LEFT JOIN category ON page.catogory_id = category.id
#### 4.2. Даны таблицы: category (id, name), sub_category (id, name), page (id, name, sub_category_id). Достаньте одним запросом все страницы вместе с их подкатегориями и категориями.
    SELECT * FROM page LEFT JOIN category ON page.catogory_id = category.id LEFT JOIN sub_category ON category.id = sub_category.category_id
#### 4.3. Даны таблицы workers и departments. Найдите все департаменты без единого сотрудника.
    SELECT department_name FROM workers w
    RIGHT JOIN departments d ON (w.department_id = d.department_id)
    WHERE first_name IS NULL

### 5. COUNT, AVG
5.1. Подсчитать количество BMW в AUTO.
5.2. Подсчитайте среднюю цену материала, название которого начинается с буквы &1. Вывести названия и среднюю цену!
```
SELECT	 MI_NAME,
		(SELECT AVG(mi_price) FROM MAT_INFORM WHERE MI_NAME LIKE 'C%')
FROM MAT_INFORM WHERE MI_NAME LIKE 'C%';
```

### 6. Спец функции
#### 6.1. Напишите один запрос для вычисления суммы всех положительных и отрицательных значений x.
#### 6.2. Написать запрос, чтобы установить 2 вместо 0 и установить 3 вместо 1.
#### 6.3. При выборке из таблицы workers создайте новое поле 3, в котором будет число 3.
#### 6.4. При выборке из таблицы workers создайте новое поле res, в котором будет лежать среднее арифметическое зарплаты и возраста.
#### 6.5. При выборке из таблицы workers получите из поля description символы со второго по десятый.
#### 6.6. Выберите телефоны из таблицы AUTO. Вместо пустых телефонов выведите: NO PHONE, нет.
#### 6.7. Выберите из таблицы MAN всех людей *, в чьих именах есть русская буква «е».
#### 6.8. Вывести из MAN имя, фамилию, количество символов в фамилии, где количество символов в фамилии > 5.
#### 6.9. Заменить буквы «о» в слове «молоко» на @, вывести результат, использовать REPLACE и DUAL.
#### 6.10. Подсчитать количество букв «о» в слове «молоко».
